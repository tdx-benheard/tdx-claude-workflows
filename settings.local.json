{
  "permissions": {
    "allow": [
      "Bash(Select-Object -First 50)",
      "mcp__tdx-tickets-mcp__tdx_get_ticket_feed",
      "Bash(powershell -File .claude/prewarm-auth.ps1 -Project \"TDNext\")",
      "Bash(powershell -File .claude/prewarm-auth.ps1 -Project \"TDClient\")",
      "Bash(ls:*)",
      "Bash(powershell:*)",
      "Bash(curl:*)",
      "mcp__tdx-tickets-mcp__tdx_get_ticket",
      "Bash(Select-Object -First 10)",
      "Bash(npm run builddev:*)",
      "Bash(dotnet build:*)",
      "Bash(git fetch:*)",
      "Bash(git merge:*)",
      "Bash(git pull:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)"
    ],
    "deny": [],
    "ask": []
  },
  "enableAllProjectMcpServers": true,
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Bash(*MSBuild.exe*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD COMPLETE. MANDATORY NEXT STEP: Execute prewarming instructions (.claude/claude-workflows/prewarm.md)' >&2 && exit 1"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash(build.bat*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD PROTOCOL VIOLATION: Command contains build.bat. You must read .claude/claude-workflows/build.md and follow those instructions exactly.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(*build.ps1*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD PROTOCOL VIOLATION: Command contains build.ps1. You must read .claude/claude-workflows/build.md and follow those instructions exactly.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(*msbuild*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD PROTOCOL VIOLATION: Command contains msbuild. You must read .claude/claude-workflows/build.md and follow those instructions exactly.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(*MSBuild*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD PROTOCOL VIOLATION: Command contains MSBuild. You must read .claude/claude-workflows/build.md and follow those instructions exactly.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git add -A*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT ADD PROTOCOL VIOLATION: git add -A adds gitignored files like .claude/. Use specific file paths instead.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git add .*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT ADD PROTOCOL VIOLATION: git add . adds gitignored files like .claude/. Use specific file paths instead.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git checkout -b*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT CHECKOUT PROTOCOL: git checkout -b will create AND switch to a new branch. You must ask the user for confirmation before proceeding. If user declines, use git branch <name> to create without switching.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git checkout *)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT CHECKOUT PROTOCOL: git checkout will switch to an existing branch. You must ask the user for confirmation before proceeding.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git worktree add*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT WORKTREE PROTOCOL VIOLATION: You must read .claude/claude-workflows/worktrees.md and follow those instructions exactly for proper naming conventions.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git commit*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT COMMIT PROTOCOL: You must ask the user for explicit confirmation before committing. Present the commit message and get approval first.' >&2 && exit 2"
          }
        ]
      }
    ]
  }
}
