{
  "permissions": {
    "allow": [
      "Bash(Select-Object -First 50)",
      "mcp__tdx-tickets-mcp__tdx_get_ticket_feed",
      "Bash(powershell -File .claude/prewarm-auth.ps1 -Project \"TDNext\")",
      "Bash(powershell -File .claude/prewarm-auth.ps1 -Project \"TDClient\")",
      "Bash(ls:*)",
      "Bash(powershell:*)",
      "Bash(curl:*)",
      "mcp__tdx-tickets-mcp__tdx_get_ticket",
      "Bash(Select-Object -First 10)",
      "Bash(npm run builddev:*)",
      "Bash(dotnet build:*)",
      "Bash(git fetch:*)",
      "Bash(git merge:*)",
      "Bash(git pull:*)",
      "Bash(npm run builddev:TDWorkManagement:*)",
      "Bash(git worktree add:*)",
      "mcp__tdx-tickets-mcp__tdx_search_tickets",
      "Bash(cat:*)",
      "Bash(git log:*)",
      "Bash(grep:*)",
      "Bash(git push:*)",
      "mcp__tdx-tickets-mcp__tdx_update_ticket",
      "mcp__tdx-tickets-mcp__tdx_list_statuses",
      "mcp__tdx-tickets-mcp__tdx_get_feed_entry",
      "Bash(findstr:*)",
      "Bash(gh pr list:*)",
      "WebFetch(domain:dev.azure.com)",
      "Bash(git worktree:*)",
      "Bash(git checkout:*)",
      "Bash(npm run scss:compile:*)",
      "Bash(npm install)",
      "Bash(wc:*)",
      "Bash(npm run build:claudecode:*)",
      "Bash(npm run)",
      "mcp__web-agent-mcp__navigate",
      "mcp__web-agent-mcp__screenshot",
      "mcp__web-agent-mcp__execute_console",
      "mcp__web-agent-mcp__login",
      "mcp__web-agent-mcp__query_page",
      "mcp__web-agent-mcp__type",
      "mcp__web-agent-mcp__click",
      "mcp__web-agent-mcp__wait",
      "mcp__web-agent-mcp__get_console_logs",
      "Bash(Select-Object -First 30)",
      "mcp__web-agent-mcp__press_key",
      "Bash(git add:*)",
      "Bash(dotnet add package:*)",
      "Bash(npm run build:*)",
      "Bash(iisreset /restart)",
      "WebSearch",
      "WebFetch(domain:docs.github.com)",
      "Bash(Select-Object -Last 50)",
      "WebFetch(domain:code.visualstudio.com)",
      "WebFetch(domain:devblogs.microsoft.com)",
      "Bash(Select-Object -Last 10)",
      "Bash(dotnet add:*)",
      "WebFetch(domain:developers.cloudflare.com)",
      "Bash(dir \"C:\\\\source\\\\TDDM\\\\enterprise\\\\TDWorkManagement\\\\bin\\\\Debug\\\\net8.0\\\\Microsoft.Extensions.Http.dll\")",
      "Bash(copy /b \"C:\\\\source\\\\TDDM\\\\enterprise\\\\TDWorkManagement\\\\web.config\"+,, \"C:\\\\source\\\\TDDM\\\\enterprise\\\\TDWorkManagement\\\\web.config\")",
      "Bash(cmd /c \"copy /b C:\\\\source\\\\TDDM\\\\enterprise\\\\TDWorkManagement\\\\web.config+,, C:\\\\source\\\\TDDM\\\\enterprise\\\\TDWorkManagement\\\\web.config\")",
      "Bash(cmd /c 'powershell -Command \"\"Get-WinEvent -LogName Application -MaxEvents 10 | Where-Object {$_.ProviderName -eq \\\\\"\"IIS AspNetCore Module V2\\\\\"\"} | Select-Object -First 1 -Property TimeCreated, Message | Format-List\"\"')",
      "Bash(cmd /c \"%windir%\\\\System32\\\\inetsrv\\\\appcmd list apppool TDWorkManagement\")",
      "Bash(cmd /c \"%windir%\\\\System32\\\\inetsrv\\\\appcmd start apppool /apppool.name:TDWorkManagement\")",
      "Bash(cmd /c 'powershell -Command \"\"Get-EventLog -LogName Application -Newest 5 -EntryType Error | Where-Object {$_.Source -like \\\\\"\"*IIS*\\\\\"\" -or $_.Source -like \\\\\"\"*.NET*\\\\\"\"} | Select-Object -First 2 | Format-List TimeGenerated, Source, Message\"\"')",
      "Bash(wevtutil qe:*)",
      "Bash(dir \"C:\\\\source\\\\TDDM\\\\enterprise\\\\TDWorkManagement\\\\bin\\\\Debug\\\\net8.0\\\\Microsoft.Extensions.*.dll\" /b)",
      "Bash(cmd /c 'dir \"\"C:\\\\source\\\\TDDM\\\\enterprise\\\\TDWorkManagement\\\\bin\\\\Debug\\\\net8.0\\\\Microsoft.Extensions*.dll\"\" /b')",
      "Bash(cmd /c 'dir /b /o-d \"\"c:\\\\Source\\\\Logs\\\\WM\\\\stdout*\"\"')",
      "Bash(cmd /c 'rmdir /s /q bin obj')",
      "Bash(cmd /c \"%windir%\\\\System32\\\\inetsrv\\\\appcmd stop apppool /apppool.name:TDWorkManagement && timeout /t 2 /nobreak && %windir%\\\\System32\\\\inetsrv\\\\appcmd start apppool /apppool.name:TDWorkManagement\")",
      "Bash(xargs:*)",
      "Bash(cmd /c \"%windir%\\\\System32\\\\inetsrv\\\\appcmd stop apppool /apppool.name:TDWorkManagement\")",
      "mcp__web-agent-mcp__get_page_content",
      "Bash(mkdir:*)",
      "Bash(for file in *.cs)",
      "Bash(do sed -i 's/namespace TeamDynamix\\\\.Domain\\\\.Services\\\\.AI/namespace TDWorkManagement.Services.AI/g' \"$file\")",
      "Bash(done)",
      "Bash(git mv:*)",
      "Bash(move \".claude\\\\web-agent-testing.md\" \".claude\\\\claude-workflows\\\\webagent.md\")",
      "Bash(git commit:*)"
    ],
    "deny": [],
    "ask": []
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "tdx-tickets-mcp"
  ],
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Bash(*MSBuild.exe*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD COMPLETE. MANDATORY NEXT STEP: Execute prewarming instructions (.claude/claude-workflows/prewarm.md)' >&2 && exit 1"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash(build.bat*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD PROTOCOL VIOLATION: Command contains build.bat. You must read .claude/claude-workflows/build.md and follow those instructions exactly.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(*build.ps1*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD PROTOCOL VIOLATION: Command contains build.ps1. You must read .claude/claude-workflows/build.md and follow those instructions exactly.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(*msbuild*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD PROTOCOL VIOLATION: Command contains msbuild. You must read .claude/claude-workflows/build.md and follow those instructions exactly.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(*MSBuild*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'BUILD PROTOCOL VIOLATION: Command contains MSBuild. You must read .claude/claude-workflows/build.md and follow those instructions exactly.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git add -A*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT ADD PROTOCOL VIOLATION: git add -A adds gitignored files like .claude/. Use specific file paths instead.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git add .*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT ADD PROTOCOL VIOLATION: git add . adds gitignored files like .claude/. Use specific file paths instead.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git checkout -b*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT CHECKOUT PROTOCOL: git checkout -b will create AND switch to a new branch. You must ask the user for confirmation before proceeding. If user declines, use git branch <name> to create without switching.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git checkout *)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT CHECKOUT PROTOCOL: git checkout will switch to an existing branch. You must ask the user for confirmation before proceeding.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git worktree add*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT WORKTREE PROTOCOL VIOLATION: You must read .claude/claude-workflows/worktrees.md and follow those instructions exactly for proper naming conventions.' >&2 && exit 2"
          }
        ]
      },
      {
        "matcher": "Bash(git commit*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo 'GIT COMMIT PROTOCOL: You must ask the user for explicit confirmation before committing. Present the commit message and get approval first.' >&2 && exit 2"
          }
        ]
      }
    ]
  }
}
